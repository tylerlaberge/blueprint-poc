<div class="blueprint" cdkDrag (cdkDragMoved)="drag()" (mousedown)="grab()" (mouseup)="release()" [ngClass]="{'mouse-down': _dragging$ | async, 'locked': _locked$ | async}">
    <blueprint-header [locked]="(_locked$ | async)!" [title]="'POST /todos'" (onToggleLock)="toggleLock()"></blueprint-header>
    <blueprint-contract 
        [inputs]="(_inputs$ | async)!" 
        [outputs]="(_outputs$ | async)!" 
        [locked]="(_locked$ | async)!" 
        (onAddInput)="addInput()" 
        (onAddOutput)="addOutput()" 
        (onDeleteInput)="deletePort($event!)"
        (onDeleteOutput)="deletePort($event!)" 
        (onSelectInputDatatype)="selectPortType($event!)"
        (onSelectOutputDatatype)="selectPortType($event!)"
        (onDestroyInputPort)="notifyDestroyInputPort($event)"
        (onDestroyOutputPort)="notifyDestroyOutputPort($event)"
    ></blueprint-contract>
</div>
